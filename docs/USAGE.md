# 使い方ガイド

このドキュメントでは、Raku Raku Notionの基本的な使い方を説明します。

## 前提条件

- 拡張機能がブラウザにインストールされていること
- Notionとの連携が完了していること（[Notion認証設定](NOTION_AUTH.md)を参照）

## 基本的な使い方

### 1. 拡張機能を開く

ツールバーの「RR」アイコンをクリックしてポップアップを開きます。

### 2. クリップボードを作成

初めて使用する場合、まずクリップボードを作成する必要があります。

1. ホーム画面で「+ 新しいクリップボードを作成」をクリック
2. クリップボード名を入力（例：「技術記事」「レシピ」「仕事メモ」）
3. 「作成」をクリック

クリップボードを作成すると、Notionのワークスペースに以下が自動的に作成されます：
- `{クリップボード名} - コンテナ` ページ（ワークスペース直下）
- その配下に `{クリップボード名}` データベース

### 3. ページをクリップ

保存したいウェブページを開いた状態で：

1. 拡張機能を開く
2. ホーム画面で「📎 このページをクリップ」をクリック

**クリップボードが1つの場合**：
- 自動的にそのクリップボードにクリップされます
- 成功メッセージが表示され、拡張機能が自動的に閉じます

**クリップボードが複数ある場合**：
- クリップボード選択画面が表示されます
- 保存先のクリップボードを選択
- クリップが実行されます

### 4. クリップボード一覧を確認

1. ホーム画面で「クリップボード一覧を見る」をクリック
2. 作成したクリップボードの一覧が表示されます

各クリップボードには以下の情報が表示されます：
- クリップボード名
- 作成日
- 最終クリップ日時（クリップした場合のみ）

**クリップボードをクリック**すると、NotionのデータベースページがChromeの新しいタブで開きます。

### 5. クリップボードを削除

1. クリップボード一覧画面を開く
2. 削除したいクリップボードの「削除」ボタンをクリック
3. 確認ダイアログで「OK」をクリック

**注意**: クリップボードを削除しても、Notion上のデータベースは削除されません。Notion側で手動で削除する必要があります。

## よくある使用例

### 技術記事のクリップ

1. 「技術記事」クリップボードを作成
2. 気になる技術記事を開く
3. 📎ボタンでクリップ
4. Notionで後からじっくり読む

### レシピの保存

1. 「レシピ」クリップボードを作成
2. お気に入りのレシピサイトを開く
3. 📎ボタンでクリップ
4. Notionでレシピデータベースとして管理

### 仕事用メモ

1. 「仕事メモ」クリップボードを作成
2. 参考になるページを開く
3. 📎ボタンでクリップ
4. Notionでプロジェクト管理に活用

## 設定変更

### Notion連携を変更

1. 設定画面（⚙️アイコン）を開く
2. 「連携解除」をクリック
3. 新しいトークンまたはOAuth認証で再接続

### 認証方法を切り替え

手動トークン ⇔ OAuth認証を切り替える場合：

1. 設定画面で「連携解除」をクリック
2. 認証方法を選択
3. 再度認証を実行

## 開発者向け機能

### ストレージのデバッグ

拡張機能のポップアップで右クリック → 「検証」→ Consoleタブ

```javascript
// ストレージ内容を確認
chrome.storage.local.get(null, (data) => console.log(data))

// ストレージをクリア
chrome.storage.local.clear()

// リセット関数を使用
import('./services/storage').then(({ StorageService }) => {
  StorageService.resetStorage()
})
```

## トラブルシューティング

### クリップが失敗する

**原因**: Notion連携が切れている可能性があります

**解決方法**:
1. 設定画面で接続状態を確認
2. 「未接続」の場合は再認証を実行

### データベースが見つからない

**原因**: Notion側でデータベースが削除された可能性があります

**解決方法**:
1. クリップボードを削除
2. 新しいクリップボードを作成

### クリップボードが表示されない

**原因**: ストレージの問題

**解決方法**:
1. 開発者ツールでストレージを確認
2. 必要に応じてストレージをリセット

## 次のステップ

- [開発ガイド](DEVELOPMENT.md) - カスタマイズや拡張機能の開発
- [プロジェクト構造](ARCHITECTURE.md) - コードベースの理解
